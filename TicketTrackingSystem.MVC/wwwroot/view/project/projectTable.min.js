import{initializeDataTable as i}from"../../utility/dataTableUtility.js";import{setupModalData as t}from"../../utility/dataModalUtility.js";let n;$(document).ready(function(){function r(n){const i=$(".modal .modal-title"),r=$("#modelBody"),u=$(".modal .modal-footer"),f=`Error ${n.code}`,e=`<p>${n.description}</p>`,o=`<button type="button" class="btn btn-default" onclick="$('#myModal').modal('hide')" data-dismiss="modal">Close</button>`;t(i,r,u,f,e,[o]);$("#myModal").modal("show")}n=i({tableId:"#projectTable",apiUrl:"https://localhost:7264/project/call",method:"getallprojectpaginatedasync",columns:[{data:"id",name:"ID"},{data:"name",name:"Name"},{data:"description",name:"Description"},{data:"createdAt",name:"CreatedAt",render:function(n,t){return t==="display"||t==="filter"?new Date(n).toLocaleString():n}},{data:"id",name:"Actions",orderable:!1,searchable:!1,render:function(){var t=$("#canView").val()==="true",i=$("#canEdit").val()==="true",r=$("#canDelete").val()==="true",n=`<div class="d-flex justify-content-center">`;return t&&(n+=`
                <button class="btn btn-primary btn-sm me-2 dt-view">
                    <i class="bi bi-info-square-fill"></i> Details
                </button>`),i&&(n+=`
                <button class="btn btn-warning btn-sm me-2 dt-edit">
                    <i class="bi bi-pencil-square"></i> Edit
                </button>`),r&&(n+=`
                <button class="btn btn-danger btn-sm me-2 dt-delete">
                    <i class="bi bi-trash-fill"></i> Delete
                </button>`),n+`</div>`}}],additionalParameters:null,failureCallback:r});n.on("click",".dt-view",function(){let i=n.row($(this).parents("tr")).data();const r=$(".modal .modal-title"),u=$("#modelBody"),f=$(".modal .modal-footer"),e=`
             <div class="form-group">
                <label for="name">ID :</label>
                <input type="text" class="form-control" id="id-view" name="id" value="${i.id}" disabled>
            </div>
            <div class="form-group">
                <label for="name">Name :</label>
                <input type="text" class="form-control" id="name-view" name="name" value="${i.name}" disabled>
            </div>
        `,o=`<button type="button" class="btn btn-default" onclick="$('#myModal').modal('hide')" data-dismiss="modal">Close</button>`,s=`<a class="btn btn-sm btn-primary dt-view" href="/Project/Details/${i.id}">View Project Users</a>`;t(r,u,f,"Project Details",e,[o,s]);$("#myModal").modal("show")});$("#myModal").on("hidden.bs.modal",function(){$(".modal .modal-title").empty();$(".modal .modal-body").empty();$(".modal .modal-footer").empty()})});export{n as projectTable};